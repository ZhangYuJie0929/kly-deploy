docker_register_domain: kunlunyun
docker_register_port: 5002
offline_deb_repo_port: 9865
docker_namespace_name: kubernetes
docker_image_repository: "{{ docker_register_domain }}:{{ docker_register_port }}/{{ docker_namespace_name }}"
docker_image_tag: 2.0.0
#配置文件目录
config_directory: "/etc/klcloud"


###############
# Global Config
###############
# 默认预留内存和 CPU
internal_vip_address: 192.168.0.220
external_vip_address: 10.2.36.229
api_interface_address: "{{ 'api' | kolla_address }}"
network_address_family: "ipv4"
api_address_family: "{{ network_address_family }}"
reserved_host_cpus: 2
reserved_host_memory_mb: 16384
# 每个osd需要留2G内存
ceph_reserved_host_memory_mb: 6
cpu_allocation_ratio: 4
reserved_osd_memory_mb: 4096
reserved_mon_memory_mb: 2048
reserved_mds_memory_mb: 2048
reseverd_system_memory_mb: 16384
# 系统用户名
system_username: root
# 系统密码
system_password: Troila12#$
# ipmi 厂商
ipmi_vendor: HUAWEI
# ipmi 连接用户名
ipmi_username: root
# ipmi 连接密码
ipmi_password: Troila12#$
host_username: root
host_password: Troila12#$

####################
# Docker options
####################
# Valid options are [ no, on-failure, always, unless-stopped ]
docker_restart_policy: "no"
# '0' means unlimited retries (applies only to 'on-failure' policy)
docker_restart_policy_retry: "10"
# Timeout after Docker sends SIGTERM before sending SIGKILL.
docker_graceful_timeout: 60
# Docker client timeout in seconds.
docker_client_timeout: 120
# Common options used throughout Docker
docker_common_options:
  restart_policy: "{{ docker_restart_policy }}"
  restart_retries: "{{ docker_restart_policy_retry }}"
  environment:
    KOLLA_CONFIG_STRATEGY: "COPY_ALWAYS"
  graceful_timeout: "{{ docker_graceful_timeout }}"
  client_timeout: "{{ docker_client_timeout }}"
default_container_dimensions: {}

##########
# role开关
##########
enable_baremetal: true
enable_haproxy: true
enable_keepalived: true
enable_mariadb: true
enable_redis: true
enable_emqx: true
enable_libvirt: true
enable_trochilus: true
enable_prometheus: true
enable_guest_service: true
enable_fsd: true
enable_btserver: true
enable_lvm: false
enable_ceph: "{% if only_deploy_voi %}false{% else %}true{% endif %}"

##########
# VOI 配置
##########
only_deploy_voi: false
voi_data_device: "/dev/vdb"
voi_data_directory: "{{ desktop_mount_dir }}"

#################
# Libvirt Options
#################
ceph_rbd_secret_uuid: e2338e01-6f82-4236-885b-056847028c77
ceph_rbd_admin_user: client.admin
hugepages_size: 2M
enable_hugepages: "{% if only_deploy_voi %}false{% else %}true{% endif %}"
libvirt_tag: 2.0.0
guest_service_tag: 2.0.0

#################
# Haproxy Options
#################
haproxy_stats_port: 1984
haproxy_user: admin
haproxy_password: admin
haproxy_monitor_port: 61313
haproxy_tag: 2.0.0

####################
# keepalived Options
####################
keepalived_tag: 2.0.0

##############
# Emqx Options
##############
emqx_default_tag: 2.0.0
emqx_external_mqtt_port: 1883
#emqx_internal_mqtt_port: 11883
emqx_mgmt_port: 8081
emqx_mqttssl_port: 8883
emqx_ws_port: 8083
emqx_wss_port: 8084


####################
# Prometheus Options
####################
prometheus_pushgateway_port: 9099


mariadb_listen_port: 3306
mariadb_root_password: 123456
mariadb_root_username: root

###################
# Trochilus Options
###################
trochilus_support_flat_network: true
trochilus_support_vlan_network: true
trochilus_libvirt_driver: kvm
trochilus_api_listen_port: 9001
trochilus_agent_listen_port: 9002
trochilus_base_path: "{{ desktop_mount_dir }}"
trochilus_voi_base_path: "{{ desktop_mount_dir }}/voi"
trochilus_tag: 2.0.0
# 如果vdi盒子和管理网不在同一个网段，就填管理网网关ip。如果vdi盒子和管理网在同一个网段，就啥也不填
trochilus_detected_mgmt_net_ip: 10.2.36.254
trochilus_ha_base_dir_path: /etc/trochilus/ha
trochilus_dhcp_confs: /etc/trochilus/dhcp
trochilus_enable_reserved_core: false
trochilus_reserved_cores_num: 2
trochilus_mariadb_username: trochilus
trochilus_mariadb_password: 123456
trochilus_mariadb_dataname: trochilus
websockify_internal_port: 9003
websockify_tag: 2.0.0

##############
# FSD Options
##############
fsd_internal_nginx_port: 19000
fsd_external_nginx_port: 9000
fsd_job_port: 9011
fsd_tcp_port: 9012
fsd_tcp_file_port: 9013
fsd_webhook_token: abc123
